## Sub Chart Name - pharia-kernel
## Sub Chart Version - 0.3.20
## Release Date - 2025-10-20

### Description of Changes:

Here is a summary of the changes introduced in this version:\n\nThis version includes a wide range of changes, including updates to dependencies, bug fixes, and new features. The dependencies were updated to the latest versions, including the bumping of the minor group across 1 directory with 9 updates. The code was also refactored to improve its structure and organization, including the removal of outdated statements and the addition of new features such as the introduction of unstable 0.5 wit world and the stabilization of 0.4 wit world. Additionally, the code was made more consistent with the use of helper constructors and the removal of unused code. The documentation was also updated to include new information and to make it more consistent.

### Added

- Add missing backslashes to multiline helm upgrade commands
- Add readme to helm chart
- Add repository and description to Cargo.toml
- Add test for reasoning extractor
- Add openai_client_v2 to inference AA client
- Add reasoning content to ChatCompletionStreamResponseDelta with conversion
- Add reasoning content to ChatEventV2
- Add reasoning content to AssistantMessageV2
- Add ChatResponseV2 wrapper to later add reasoning_content
- Refactor: add own ChatResponseReasoningContent type to allow
- Add reasoning content to domain message representation
- Add genai otel envs to env.example
- Add features section
- Add otel_gen_ai_content_capture variable

### Changed

- Release
- Restrict permissions for build-macos ci job
- Restrict permissions for lint ci job
- Bump the minor group across 1 directory with 9 updates
- Automerge dependabot PRs
- Unify code blocks in markdown
- Upper case readme
- Realign operating.md and readme.md
- Move operating.md top level
- Update lock file with removed resource eval
- Update example test env file docs
- Move helm configs to repository vars
- Rm resource_eval directory
- Make clippy happy
- Bump wit parser
- Bump opentelemetry group
- Bump json schema
- Bump tokenizers
- Specify license in Cargo.toml
- Introduce unstable 0.5 wit world
- Run cargo nightly fmt
- Replace double_trait::double with double_trait::dummies
- Love for if let chains
- Move chat response extract logic to distinct module
- Extract reasoning extractor into it's own module
- Use helper constructors on chat event
- Extract reasoning events in chat stream from AA inference API v1
- Working on ReasoningExtractor
- Chat_v2 of AAClient uses v1 endpoint and extracts `reasoning_content`
- Stabilize 0.4 wit world
- Deactivate propagating trace headers to IAM for now
- Inject open_telemetry middleware in authorization requests
- Instrumet call to IamClient::authorize
- Replace our Iam calls with the ones from pharia-common
- Record input and output token usage on spans
- Message stream event can emit reasoning content
- Run cargo fmt
- Make clippy happy
- Introduce chat event v2
- Optionally serialize reasoning_content from reasoning field
- Reasoning content is part of chat requests
- Do not use byot for v1 chat
- Reformat comment width
- Make v2 tests to use v2 endpoints
- Wip
- Bubble up chat and chat_stream v2 methods from inference actor to csi
- Rename *with_reasoning methods to *v2 and implement v1
- Rename chat methods to chat_with_reasoning
- Pushed reasoning for stream further
- Introduce ChatStreamWithReasoning wrapper
- Introduce own ChatResponseReasoningContent as wrapper
- Enable byot types features of async_openai
- Rm gen_ai.system span attribute
- Extract completion span creation to tracing module
- Introduce inference tracing module
- Accumulate content if tracing for streaming chat
- Move gen ai tracing to inference actor
- Optionally log message content
- Store gen_ai attributes on csi spans
- Also support trace export via http

### Fixed

- Fix typo
- Update some document index expectations
- Extract reasoning even if not closed
- Extract reasoning events from chat events with `ReasoningExtractor`
- Fix clippy lints
- Thinking event from skill arives at runtime

### Removed

- Remove out of scope tams
- Remove outdated statement about skill cache
- Remove internal links from readme
- Remove mentions of jfrog docs
- Remove logprobs from chat event v2
- Remove rustfmt.toml
- Remove `reasoning_content` from chat request `message` field
- Remove unused from implementations

### Related Issues/Links:
- [Jira Board](https://aleph-alpha.atlassian.net/jira/software/projects/PK/boards/160)

### Notes:
- Generated by git-cliff
- The format is based on [Keep a Changelog](https://keepachangelog.com/en/1.0.0/),
and this project adheres to [Semantic Versioning](https://semver.org/spec/v2.0.0.html).
