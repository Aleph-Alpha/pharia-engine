## Sub Chart Name - pharia-kernel
## Sub Chart Version - 0.3.15
## Release Date - 2025-08-18

### Description of Changes:

This version introduces several key changes to the pharia-kernel. The most notable updates include making the base repository optional, supporting a Minimal variant of ReasoningEffort, and allowing users to choose between max-tokens and max-completion-tokens. Additionally, the code has been refactored to improve performance and functionality, including the introduction of an aleph alpha client struct and the support for tool call stream events in the 0.4 wit world. The code also now includes support for structured output and has been updated to use async_openai for chat requests against AA inference. Furthermore, several bug fixes have been implemented, including setting max_completion_tokens for reasoning models instead of max_tokens. The code has also been updated to use the latest versions of several dependencies.

### Added

- Support Minimal variant of ReasoningEffort
- Add test_no_openai feature
- Add skill build cache to .gitignore
- Add support for structured output
- Support tool call stream events in 0.4 wit world
- Support parallel-tool-call parameter in 0.4 wit world
- Support tool-choice parameter in 0.4 wit world

### Changed

- Release v0.13.21
- Bump actions/checkout from 4 to 5
- Make base_repository optional
- User decides between max-tokens and max-completion-tokens
- Apply 1.89 lints
- Panic in csi if receiving tool call for early wit worlds
- Represent message as enum internally
- Include reasoning-effort in chat-params
- Expose 0.4 tool call params via csi shell
- Use async_openai for chat requests against AA inference
- Rename internal client to aleph_alpha
- Introduce aleph alpha client struct
- Check precondition on inference responses in client
- Propagate tool call to 0.4 wit world
- Make response message content optional
- Split Message from ResponseMessage
- Introduce tool call variant on finish reason
- Introduce tools parameter 0.4 wit world
- Bump actions/download-artifact from 4 to 5
- Bump the minor group across 1 directory with 7 updates
- Update pinned version of trivy action

### Fixed

- Pull out model names into consts
- Set max_completion_tokens for reasoning models instead of max_tokens
- Clear skill build cache on wit changes

### Related Issues/Links:
- [Jira Board](https://aleph-alpha.atlassian.net/jira/software/projects/PK/boards/160)

### Notes:
- Generated by git-cliff
- The format is based on [Keep a Changelog](https://keepachangelog.com/en/1.0.0/),
and this project adheres to [Semantic Versioning](https://semver.org/spec/v2.0.0.html).
